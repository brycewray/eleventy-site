/* CSS-only and **accessible** menu based on... https://codepen.io/jonraedeke/pen/WRwJQX
*/

/* keep header here rather than base or layout SCSS */

.nav__item {
  @apply p-0 m-0;

  & a {
    @apply block py-2 px-6 m-0 text-white no-underline transition-opacity duration-500 ease-in-out;

    &:link, &:visited {
      @apply text-white;
    }

    &:hover, &:focus {
      @apply no-underline opacity-75;
    }
  }
}

@media (min-width: 900px) {
  .nav__item {
    @apply text-lg inline-block;
    & a {
      @apply inline-block pt-1 pb-0 no-underline
    }
  }
}

.nav__icon {
  @apply block absolute cursor-pointer;
  top: 15px;
  right: 13px;
  height: 27px;
  width: 27px;
  text-indent: -9999px;
  /* hide the label */
  transition: all 1s cubic-bezier(.19, 1, .22, 1);
  /* Remove blinking cursor */
  @apply border-none text-transparent text-center;
  text-shadow: 0 0 0 gray;
  &:focus {
    @apply outline-none;
  }
}
@media (min-width: 900px) {
  .nav__icon{
    @apply hidden;
  }
}

.nav__icon-line {
  @apply absolute block bg-white rounded left-0;
  width: 27px;
  height: 0.2rem;
  /*
  border-radius: 0.2rem;
  text-indent: 0;
  */
  transition: all .5s cubic-bezier(.5, .1, 0, 1.2);

  &:first-child {
    @apply top-0;
  }

  &:nth-child(2) {
    top: 8px;
  }

  &:nth-child(3) {
    top: 16px;
  }
}
 
 /* Checkbox hack for toggling mobile menu */
 input[type=checkbox] {
   @apply hidden invisible;
   &:checked {
     & ~ nav .nav__items {
       height: auto;
       background-color: var(--darkblue);
       max-height: 30rem;
       transition: all 0.5s cubic-bezier(.5, 1, .22, 1);
     }
     & ~ label .nav__icon-line:first-child {
       @apply top-0;
       width: 27px;
       transform: translateX(-8px) rotate(-45deg) translateY(12px);
     }
     & ~ label .nav__icon-line:nth-child(2) {
       @apply opacity-0;
     }
     & ~ label .nav__icon-line:nth-child(3) {
       top: 14px;
       width: 27px;
       transform: translateX(-5px) rotate(45deg) translateY(-8px);
     }
   }
}
 
nav {
  @apply absolute text-left left-0 w-full;
  top: 100%;
  transform: scale(1, 0);
  transform-origin: top;
  & ul {
    @apply pl-0 m-0 text-right list-none;
  }
  & li {
    @apply mb-2 inline;
    margin-right: 5%;
    @media screen and (max-width: 899px) {
      display: inherit;
    }
    /* undoing the inline-for-really-old-browsers stuff */
  }
  & a {
    @apply text-white no-underline border-b-0 opacity-0;
    font-size: calc(var(--stdsize) * 1em);
  }
  & a:hover, & a:active {
    color: var(--grey-2);
    @apply border-b-0;
  }
}

.nav-toggle:checked ~ nav {
  transform: scale(1, 1);
  & a {
    @apply opacity-100;
  }
}


/* === Beginning of primary settings for larger screens === */

@media screen and (min-width: 900px) {
  .nav-toggle-label {
    @apply hidden;
  }
  
  header {
    @apply fixed grid grid-cols-5;
  }

  .site-logo {
    @apply z-50 text-left col-start-1 col-end-3 text-lg;
    padding-left: 8%;
  }

  nav {
    @apply mt-0 col-start-4 col-end-6;
    top: 15%;
    transform: none;
    & a {
      @apply opacity-100 relative;
    }
    & ul {
      padding-right: 8%;
      @apply text-right;
    }
    & li {
      @apply inline-block p-0 mb-0;
    }
  }
}

.site-logo-holder {
  & img {
    height: 18px;
    width: 18px;
    @apply mb-1;
  }
}


/* === End of primary settings for larger screens === */
